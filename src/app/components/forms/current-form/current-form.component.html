<div
  class="flex flex-column justify-content-center align-items-center"
  *ngIf="viewModel$ | async as viewModel"
>
  <div
    *ngIf="showinputMap$ | async as showInputMap"
    class="flex flex-column w-11 md:w-5"
  >
    <div class="flex-1 mt-2 flex flex-row justify-content-center">
      <p-dropdown
        [options]="weeks"
        [ngModel]="week"
        optionLabel="name"
        (ngModelChange)="handleWeekChange($event)"
      ></p-dropdown>
    </div>
    <div class="flex-1 flex flex-row m-4">
      <div class="flex-1 text-center text-lg font-bold">Favorite</div>
      <div class="flex-1 text-center text-lg font-bold">Underdog</div>
    </div>
    <div *ngFor="let event of viewModel.events">
      <ng-container *ngIf="getFavorite(event) as favorite">
        <ng-container *ngIf="getUnderdog(event) as underdog">
          <app-event
            *ngIf="betAmount$ | async as betAmount"
            [betAmount]="betAmount"
            [favorite]="favorite"
            [showInputMap]="showInputMap"
            [underdog]="underdog"
            [event]="event"
            (eventBetEvent)="setBet($event)"
            (eventSelectEvent)="handleSelectEvent($event)"
          ></app-event>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div *ngIf="total$ | async as total" class="mb-2 font-bold">
    Current total: {{ total.amount | currency: "USD":"symbol" }}
  </div>
  <p-button
    class="mb-5"
    [disabled]="anyInvalidBets()"
    (onClick)="submit(viewModel)"
    >Submit</p-button
  >
</div>
